// Datos de usuarios con programación predefinida
const userProgram = {
    'MIGUEL11': {
        password: '22222800',
        content: {
            'Semana 1 de 52 semanas - 262 días de trabajo': [
                `Día 1: Snatch Focus
Duración Total: 2 horas

1. Calentamiento (20 minutos):
• 10 minutos de remo o bicicleta estática a ritmo moderado.
• Movilidad y estiramientos específicos para arranque 

2. Arranque (Snatch) (40 minutos):
• 4x3 @ 70%
• 3x2 @ 75%
• 3x2 @ 80%
• 2x1 @ 85%
• 2x1 @ 90%

3. Tirón de Arranque (Snatch Pull) (20 minutos):
• 4x3 @ 90%
• 4x3 @ 100%

4. Trabajo Accesorio (20 minutos):
• Remo con barra: 3x8
• Press militar: 3x8
• Dominadas: 3x6-8

5. Cardio (20 minutos):
• HIIT en bicicleta estática o remo: 30 segundos de trabajo, 30 segundos de descanso. 8-10 intervalos.`,

                `Día 2: Clean & Jerk Focus
Duración Total: 2 horas

1. Calentamiento (20 minutos):
• 10 minutos de remo o bicicleta estática a ritmo moderado.
• Movilidad y estiramientos específicos para la halterofilia.

2. Envión (Clean & Jerk) (40 minutos):
• 4x3 @ 70%
• 3x2 @ 75%
• 3x2 @ 80%
• 2x1 @ 85%
• 2x1 @ 90%

3. Tirón de Clean (Clean Pull) (20 minutos):
• 4x3 @ 90%
• 4x3 @ 100%

4. Trabajo Accesorio (20 minutos):
• Sentadilla frontal: 3x5
• Press de banca: 3x5
• Elevaciones laterales: 3x12

5. Cardio (20 minutos):
• Carrera continua a ritmo moderado.`,

                `Día 3: Recuperación Activa
Duración Total: 1.5 horas

1. Cardio (30 minutos):
• 30 minutos de trabajo aeróbico moderado (remo, bicicleta, carrera).

2. Trabajo de movilidad y estiramientos (30 minutos):
• Movilidad articular.
• Estiramientos dinámicos y estáticos.

3. Trabajo Core (30 minutos):
• Planchas: 3x60 segundos
• Ab wheel: 3x10
• Superman: 3x15`,

                `Día 4: Snatch + Clean & Jerk
Duración Total: 2 horas

1. Calentamiento (20 minutos):
• 10 minutos de remo o bicicleta estática.
• Movilidad y estiramientos.

2. Snatch (30 minutos):
• 3x3 @ 70%
• 3x2 @ 75%
• 3x2 @ 80%

3. Clean & Jerk (30 minutos):
• 3x3 @ 70%
• 3x2 @ 75%
• 3x2 @ 80%

4. Trabajo Accesorio (20 minutos):
• Peso muerto: 3x5
• Zancadas con mancuernas: 3x10 por pierna

5. Cardio (20 minutos):
• HIIT con sprints: 8-10 sprints de 50-100 metros.`,

                `Día 5: Técnica y Fuerza
Duración Total: 2 horas

1. Calentamiento (20 minutos):
• 10 minutos de remo o bicicleta estática.
• Movilidad y estiramientos.

2. Trabajo técnico (40 minutos):
• Arranque con pausa en la posición baja: 5x3 @ 65%
• Clean con pausa en la posición baja: 5x3 @ 65%

3. Sentadilla trasera (20 minutos):
• 4x5 @ 80%

4. Trabajo Accesorio (20 minutos):
• Fondos en paralelas: 3x8-10
• Curl de bíceps con barra: 3x12

5. Cardio (20 minutos):
• Ciclismo continuo o remo a ritmo moderado.`,

                `Día 6: Día de Máximos
Duración Total: 2 horas

1. Calentamiento (20 minutos):
• 10 minutos de remo o bicicleta estática.
• Movilidad y estiramientos.

2. Arranque (Snatch) - Subida a máximo (60 minutos):
• 1x3 @ 70%
• 1x2 @ 80%
• 1x1 @ 85%
• Subir en incrementos de 2-5% hasta llegar a 1RM.

3. Clean & Jerk - Subida a máximo (40 minutos):
• 1x3 @ 70%
• 1x2 @ 80%
• 1x1 @ 85%
• Subir en incrementos de 2-5% hasta llegar a 1RM.`,

                `Día 7: Descanso Activo o Recuperación
Duración Total: 1-1.5 horas

1. Trabajo de movilidad y estiramientos (30-60 minutos):
• Movilidad articular.
• Estiramientos dinámicos y estáticos.

2. Cardio ligero (30 minutos):
• Paseo o trote ligero.`
            ]
        }
    },
    'ATRI51': {
        password: '222227001',
        content: {
            'Semana 4 de JULIO ': [
                `Lunes:
MUSCLE SNATCH + DROP SNATCH + OHS
5x3.3.3
Incrementar el peso acorde avance en los sets, enfocarse en técnica y velocidad.
Enviar video.

POWER SNATCH + OHS
55@2x3.3
60@2x3.3
65@2x3.3
70@2x3.3

SNATCH BENT OVER ROW + CHIN UPS
4x6.12
Trabajar con un mismo peso cada set, debe ser muy pesado el remo, use straps si lo necesita.

TEMPO FRONT SQUAT + DOUBLE BOUNCE FRONT SQUAT + FRONT SQUAT
55@3x3.1.3
60@2x3.1.3
65@2x2.1.2
70@2x2.1.2

ACCESORY
4 sets
10 double DB chinesse rows
20 ring dips / box dips
30 face pulls
Descanse 2 minutos por set

3RFT
30 OHS 115/75 lbs
60 double unders
30/20 ERG bike calories or 15/10 assault bike calories
60 double unders
Time cap: 16 minutos
Tiempo Raul: 12´59´´

ZONA 2
Trabajar en la maquina a de su preferencia la zona 2 durante 25 minutos.`,

                `Martes:
EMOM 16´
Est1: 8 shuttle runs (2x7.5 mts = 1 rep)
Est2: 15 KBSDLHP 20/12 kgs
Est3: 50 mountain climbers
Est4: 15 sit ups

CORE

ACCESORY
4 SETS
15 mts sandbag bear hug carry march
30´´ L sit hanging hold
15 mts double KB suitcase carry
15 GHD back extensions
Rest 2 minutes between sets

AMRAP 15´
300/200 mts row
30 medball GHD sit ups 20/14 lbs
15 burpee`,

                `Miércoles:
MUSCLE CLEAN + FRONT SQUAT
5x3.3
Incrementar la carga en cada set.

POWER CLEAN + SQUAT CLEAN
55@2x3.1
60@2x3.1
65@2x2.1
70@2x1.1

CLEAN PULL
80@4x5

ACCESORY
3 sets
15/15 KB one leg cuadriceps extensions
12 close feet elevated goblet squats (heavy)
15 banded glute lateral kicks
6 broad jumps
Descanse 2 minutos por ronda

5 SETS
15 double DB deadlifts 
30 mts UNBROKEN DB Farmer carry
10 double DB step backs lunges
30 mts UNBROKEN DB Farmer carry
Rest 1:1
DB: 70/50 lbs`,

                `Jueves:
- Descanso activo, recomendación si es que va a realizar actividad física, hacerlo a una intensidad muy baja.
- Puede realizar natación, remo, erg bike, no máximo de 30 minutos de trabajo, a un PACE de 2.
- Si se siente cansado, opte por trabajos de movilidad y estiramientos para que lleguemos al viernes con la mejor actitud y energía posible.`,

                `Viernes:
STRICT PRESS
60@5x7

BACK RACK SPLIT JERK
5x5
Incrementar el peso, empezar con el 60% de su maximo de split jerk

ACCESORY
4 SETS
10 double DB seated Arnold presses
10 double DB skull crushers
20 banded tríceps extensions
Descanse 2 minutos por set

5 SETS
5 ring muscle ups / BMU
10 one arm DB hang snatches alternating 75/55 lbs
15 DB facing burpees
20 double crossovers / 40 crossovers
Rest 1:1

ZONA 2
Trabajar en la maquina a de su preferencia la zona 2 durante 25 minutos.`,

                `Sábado:
2 SETS
25 Dumbbell Goblet Squats @ 50/35 lbs
20 Dumbbell Romanian Deadlifts @ 50/35 lbs
15 Dumbbell Bench Press @ 50/35 lbs
10 Dumbbell Renegade Rows @ 50/35 lbs
15 Dumbbell Alternating Lunges @ 50/35 lbs
Rest 3 minutos

4 SETS
12/12 Kettlebell Swings @ 32/24 kgs
20/20 Dumbbell Walking Lunges @ 22/15 lbs
15/15 Kettlebell Goblet Squats @ 32/24 kgs
Rest 2 minutos

Cardio
30 minutos de trote a ritmo moderado.`,

                `Domingo:
Descanso o actividad ligera
Opciones: Paseo, estiramientos, yoga.`

            ]
        }
    }
};

// Función para obtener el contenido basado en el usuario y la semana
function getContent(userId, week) {
    const user = userProgram[userId];
    if (user) {
        const content = user.content[week];
        if (content) {
            return content.join('\n\n');
        } else {
            return 'Contenido no disponible para esta semana.';
        }
    } else {
        return 'Usuario no encontrado.';
    }
}

// Ejemplo de uso
const userId = 'user2'; // Cambiar por el ID del usuario deseado
const week = 'Semana 1 de 52 semanas - 262 días de trabajo'; // Cambiar por la semana deseada
console.log(getContent(userId, week));

// Verifica si el usuario ya ha iniciado sesión
document.addEventListener("DOMContentLoaded", () => {
    if (localStorage.getItem('loggedInUser')) {
        showContent();
    }
});

function login() {
    const username = document.getElementById('username').value;
    const password = document.getElementById('password').value;

    if (userProgram[username] && userProgram[username].password === password) {
        localStorage.setItem('loggedInUser', username);
        showContent();
    } else {
        document.getElementById('error-message').textContent = 'Invalid username or password.';
        document.getElementById('error-message').style.color = '#ff3333';
    }
}

function logout() {
    localStorage.removeItem('loggedInUser');
    location.reload();
}

function showContent() {
    document.getElementById('login-container').classList.add('hidden');
    document.getElementById('content-container').classList.remove('hidden');

    const username = localStorage.getItem('loggedInUser');
    const userContent = userProgram[username].content;

    const weekContainer = document.getElementById('week-container');
    Object.keys(userContent).forEach((week, index) => {
        const weekDiv = document.createElement('div');
        weekDiv.className = 'week';
        weekDiv.textContent = week;
        weekDiv.onclick = () => toggleDays(weekDiv, week, userContent);
        weekContainer.appendChild(weekDiv);
    });
}

function toggleDays(weekDiv, weekName, userContent) {
    let daysContainer = weekDiv.querySelector('.days-container');
    if (!daysContainer) {
        daysContainer = document.createElement('div');
        daysContainer.className = 'days-container';
        weekDiv.appendChild(daysContainer);
        
        userContent[weekName].forEach((dayContent, i) => {
            const dayDiv = document.createElement('div');
            dayDiv.className = 'day';
            dayDiv.textContent = `Día ${i + 1}`;
            dayDiv.onclick = () => showExerciseDetails(weekName, i);
            daysContainer.appendChild(dayDiv);
        });
    }
    daysContainer.classList.toggle('hidden');
}

function showExerciseDetails(weekName, dayIndex) {
    const username = localStorage.getItem('loggedInUser');
    const descriptionContainer = document.getElementById('exercise-description');
    const content = userProgram[username].content[weekName][dayIndex];
    descriptionContainer.innerHTML = `<h3>${weekName} - Día ${dayIndex + 1}</h3><p>${content.replace(/\n/g, '<br>')}</p>`;
    descriptionContainer.classList.remove('hidden');
}
